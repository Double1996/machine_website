<% provide(:title, '考试中') %>
<div class="home-page">
  <div class="text-center">
    <h1><strong>Survey Taker:</strong></h1>
    <hr>
    <h3><strong><%= @exam.title %></strong></h3>
    <h4><%= @exam.description %></h4>
    <hr>

    <p>
      <span class="text-muted">Questions marked with an asterisk(*) are required<%= link_to " -D- ", exam_path(@exam), method: "delete", data: {confirm: "Are you sure?"} %></span>
    </p>
  </div>

  <main>
    <%= form_for @respondent do |f| %>
        <%= f.hidden_field :exam_id, value: @exam.id %>
        <div class="form-group text-center">
          <h3><strong>#TellMeYouName!</strong></h3>
          <%= f.text_field :name, class: "form-control input-lg text-center" %>
        </div>
        <ol>
          <!-- list all multi_questions for the exam -->
          <% if @exam.has_multi_questions? %>
              <% @exam.all_multi_questions_with_text.each do |multi_question| %>
                  <div class="question-block">
                    <li>
                      <h4><strong><%= multi_question.text.capitalize %></strong></h4>
                      <%= f.fields_for :multi_responses do |multi_response| %>
                          <%= multi_response.hidden_field :question_id, value: multi_question.id %>
                          <%= multi_response.collection_check_boxes :response_option_ids, multi_question.response_options, :id, :text, {}, class: "checkbox" %>
                      <% end %>
                    </li>
                  </div>
              <% end %>
          <% end %> <!-- end of the multi_questions -->
        </ol>
        <div class="form-group">
          <hr>
          <%= f.submit "Submit your Survey", class: "btn btn-primary btn-lg btn-block" %>
        </div>

    <% end %>
  </main>
</div>
